<!DOCTYPE html>
<html lang="ja">
<head>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>森の守護者とタロット占い</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Maru+Gothic:wght@400;700&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="style.css">
	<link rel="icon" href="data:,">
</head>
<body>
    <div class="container">
        <div class="dots-pattern"></div>
        <div class="dots-pattern-right"></div>

        <!-- ページ1: 新デザインホーム画面 -->
        <div class="page active" id="page1">
    <div style="text-align: center; margin: 40px 0 80px 0;">
      <h2 class="ribbon2" style="margin-bottom: 30px; letter-spacing: 2px;">
    TAROT READING
</h2>
        
      <h1 style="margin-bottom: 20px; line-height: 1.2; font-family: 'Zen Maru Gothic', sans-serif; color: #dacc89;">
    <span style="font-size: 20px;">森</span><span style="font-size: 14px;">の</span><span style="font-size: 20px;">守護者</span><span style="font-size: 14px;">と</span><br>
    <span style="font-size: 28px;">３枚のカード</span>
</h1>
        
        <div style="margin: 30px 0; text-align: center;">
    <img src="images/title-cards.png" style="width: 240px; height: auto;" alt="タロットカード">
</div>
        
        <div style="font-size: 14px; margin-bottom: 40px; line-height: 1.6; color: #dacc89;">
    あなたの守護者タイプを診断後、<br>
    タロットで今のあなたの状況を占います。<br>
    あなたのタイプに合わせた<br>
    アドバイスをお届けします。
</div>
        
        <button class="btn" onclick="showPage(2)">はじめる</button>
    </div>
</div>

        <!-- ページ2: メニュー画面 -->
        <div class="page" id="page2">
            <div class="ribbon-header">
                <div class="ribbon2">START</div>
            </div>

            <div class="animal-icons">
                <div class="animal-icon">🦊</div>
                <div class="animal-icon">🦅</div>
                <div class="animal-icon">🐺</div>
                <div class="animal-icon">🦌</div>
                <div class="animal-icon">🐻</div>
                <div class="animal-icon">🦋</div>
            </div>

            <!-- 既存の守護神表示エリア -->
            <div id="existing-guardian" style="display: none; text-align: center; margin: 20px 0; padding: 20px; background: rgba(255, 255, 255, 0.9); border-radius: 15px; color: #dacc89;">
                <div style="font-size: 14px; margin-bottom: 10px;">あなたの守護神</div>
                <div class="guardian-emoji" id="current-guardian-emoji">🦊</div>
                <div style="font-size: 16px; font-weight: bold;" id="current-guardian-name">
                <div class="furigana" style="font-size: 12px; font-weight: normal;">ひらがな</div>
            紅玉の狐
                </div>
                <div style="font-size: 12px; margin-top: 5px; color: #6c757d;" id="current-guardian-date">2024年1月1日に診断</div>
            </div>

            <div style="text-align: center; margin: 40px 0 80px 0;">
                
                <div style="margin-bottom: 10px; font-size: 14px; opacity: 0.9;">
    ＼ 性格タイプを登録 ／
</div>
<button class="btn" style="margin-top: 10px;" onclick="showPage(3)">守護神を確認する</button>

<div style="margin: 30px 0 10px 0; font-size: 14px; opacity: 0.9;">
    ＼ あなたの直感が重要 ／
</div>
               <button class="btn btn-secondary" onclick="showPage(9)">スリーカードで占う</button>

<div style="margin: 15px 0; font-size: 12px; color: rgba(255,255,255,0.7); text-align: center; line-height: 1.4;">
    ※性格診断を受けることで、あなたにぴったりの<br>
    個別アドバイスを受け取れます
</div>
            </div>
        </div>

        <!-- ページ3: 性格診断画面（10問） -->
        <div class="page" id="page3">
            <div class="ribbon-header">
                <div class="ribbon2">性格タイプ診断</div>
            </div>

            <div class="progress-info">
            性格診断（60問）
            </div>

                <div id="questions-container">
                    <!-- 質問はJavaScriptで動的に生成 -->
                </div>

                <div class="btn-group">
                   <button class="btn" onclick="completeDiagnosis()">診断結果を見る</button>
                </div>
            </div>

            <button class="btn btn-secondary" onclick="showPage(2)">戻る</button>
        </div>



       <!-- ページ8: 診断結果画面 -->
        <div class="page" id="page8">
            <div class="ribbon-header">
                <div class="ribbon2">診断結果</div>
            </div>

            <div class="diagnosis-container">
                <div class="result-header">
                    <h2>あなたの守護者</h2>
                </div>

                <div class="result-content">
                    <div class="guardian-display">
                        <div class="guardian-emoji" id="result-emoji">🦊</div>
                        <div class="guardian-name" id="result-name">
                        <div class="furigana" id="result-furigana">ぎょっこうのきつね</div>
                        紅玉の狐
                    </div>
                        <div class="guardian-traits" id="result-traits">直感・変化・機敏さ</div>
                    </div>

                    <div class="guardian-description" id="result-description">
                        変化を恐れず直感で進む自由な魂
                    </div>

                    <div class="tarot-interpretation" id="result-interpretation">
                        カードの示す変化を前向きに受け入れ、直感を信じて行動することで道が開ける
                    </div>
                </div>

                <div class="btn-group">
                    <button class="btn" onclick="shareResult()">結果をシェア</button>
                    <button class="btn btn-secondary" onclick="showPage(2)">メニューに戻る</button>
                </div>
            </div>
        </div>

        
   <!-- ページ9: ジャンル選択画面 -->
        <div class="page" id="page9">
            <div class="ribbon-header">
                <div class="ribbon2">ジャンル選択</div>
            </div>

            <div class="diagnosis-container">
                <div class="result-header">
                    <h2>占いジャンル選択</h2>
                </div>

                <div style="text-align: center; margin: 60px 0 40px 0;">
                    <div style="margin-bottom: 30px; font-size: 14px; color: #6c757d;">
                        あなたが占いたいのは？
                    </div>
                    
                    <button class="btn" style="background: #c2dada; color: white;""onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('today_fortune')">今日の運勢</button>
                    
                    <button class="btn" style="background: #7894ab; color: white; margin-top: 15px;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('love_single')">恋愛運（片思い）</button>

                    <button class="btn" style="background: #7894ab; color: white; margin-top: 15px;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('love_couple')">恋愛運（カップル）</button>

                    <button class="btn" style="background: #7894ab; color: white; margin-top: 15px;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('love_reunion')">恋愛運（復縁）</button>

                    <button class="btn" style="background: #7894ab; color: white; margin-top: 15px;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('work_fortune')">仕事運</button>

                    <button class="btn" style="background: #7894ab; color: white; margin-top: 15px;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="startTarotReading('relationship')">人間関係</button>
                                        
                    <div style="margin-top: 20px; font-size: 12px; color: #6c757d;">
                        ※機能は順次追加予定
                    </div>
                </div>

                </div>

            <button class="btn btn-secondary" onclick="showPage(2)">戻る</button>
     </div>
     </div>
            <!-- ページ10: カードシャッフル画面 -->
<div class="page" id="page10">
    <div class="ribbon-header">
        <div class="ribbon2">カードシャッフル</div>
    </div>
    <div class="diagnosis-container" style="padding-bottom: 20px;">
                <div class="result-header">
                    <h2>カードをシャッフルしています</h2>
                </div>

               <div style="text-align: center; margin: 30px 0;">
                    <div id="shuffle-animation" style="margin: 40px 0; text-align: center;">
                     <img id="shuffle-image" src="images/shuffle1.png" style="max-width: 300px; width: 90%; height: auto;" alt="カードシャッフル">
                    </div>
                    
                    <div style="font-size: 14px; color: #6c757d; margin: 20px 0; line-height: 1.5;">
                        落ち着いて、直感で、<br>あなたのタイミングでボタンを押してください。
                    </div>
                    
                    <button class="btn" style="background: #c2dada; color: white;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" id="shuffle-stop-btn" onclick="stopShuffle()">
    ストップ
</button>
                </div>
            </div>

            <button class="btn btn-secondary" onclick="showPage(9)">戻る</button>
        </div>

        <!-- ページ11: カード選択画面 -->
        <div class="page" id="page11">
            <div class="ribbon-header">
                <div class="ribbon2">カード選択</div>
            </div>

            <div class="diagnosis-container">
                <div class="result-header">
                    <h2 id="card-selection-title">１．＜今日の状況＞を占います。<br>直感でカードを一枚選んでください。</h2>
                </div>

                <div style="text-align: center; margin: 40px 0;">
                    
                    <!-- テキスト削除 -->
                    
                    <div id="cards-container" style="position: relative; display: flex; justify-content: center; align-items: center; height: 150px; margin: 30px 0; overflow-x: visible;">
                        <!-- カードはJavaScriptで生成 -->
                    </div>
                </div>

                <div style="text-align: center; margin: 20px 0;">
                   <!-- プログレス表示完全削除 -->
                </div>
            </div>

           
               <button class="btn btn-secondary" style="margin-top: 10px;" onclick="showPage(9)">戻る</button>
           
            
        </div>

        <!-- ページ12: 占い結果画面 -->
        <div class="page" id="page12">
            <div class="ribbon-header">
                <div class="ribbon2">鑑定結果</div>
            </div>

            <div class="diagnosis-container">
                <div class="result-header">
                    <h2 id="result-title">今日の運勢</h2>
                </div>

                <!-- 選択されたカード表示 -->
                <div class="selected-cards-display">
                    <div class="card-row">
                        <div class="selected-card" id="card-1">
                            <div class="card-emoji">🂠</div>
                            <div class="card-name">カード1</div>
                            <div class="card-position">今日の状況</div>
                        </div>
                        <div class="selected-card" id="card-2">
                            <div class="card-emoji">🂠</div>
                            <div class="card-name">カード2</div>
                            <div class="card-position">今日の展開</div>
                        </div>
                        <div class="selected-card" id="card-3">
                            <div class="card-emoji">🂠</div>
                            <div class="card-name">カード3</div>
                            <div class="card-position">今日のアドバイス</div>
                        </div>
                    </div>
                </div>

                <!-- 占い結果 -->
                <div class="tarot-result-content">
                   <div class="personality-based-reading">
    <h3 id="personalized-title">○○を守護者にもつあなたへのメッセージ</h3>
    <div id="personalized-fortune" class="personalized-fortune">
        性格を考慮した個別鑑定結果
    </div>
</div>
                </div>

                <div class="btn-group">
                    <button class="btn" style="background: #c2dada; color: white;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="shareResult()">結果をシェア</button>
                    <button class="btn" style="background: #c2dada; color: white;" onmouseover="this.style.background='#caae67'; this.style.color='white';" onmouseout="this.style.background='#c2dada'; this.style.color='white';" onclick="showPage(2)">メニューに戻る</button>
                </div>
            </div>
        </div>
<!-- CSS読み込み -->
<link rel="stylesheet" href="css/base.css">
<link rel="stylesheet" href="css/components.css">  
<link rel="stylesheet" href="css/pages.css">

<!-- JavaScript読み込み -->
<script src="js/data.js"></script>
<script src="js/main.js"></script>
<script src="js/diagnosis.js"></script>
<script src="js/gemini-api.js"></script>
<script src="js/share.js"></script>
<script src="js/tarot.js"></script>
</body>
</html>
